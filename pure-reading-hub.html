<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pure Reading Hub - Teacher Alex English Academy BETA</title>
    <link rel="stylesheet" href="base.css">
    <link rel="stylesheet" href="layout.css">
    <link rel="stylesheet" href="theme-patriot.css">
    <style>
        /* CSS espec√≠fico do Pure Reading Hub - tema cinza neutro vs patri√≥tico */
        .hub-title {
            font-size: 2.5em;
            font-weight: 800;
            background: linear-gradient(135deg, #374151, #111827);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .hub-subtitle {
            font-size: 1.4em;
            color: var(--gray-600);
            font-weight: 600;
        }

        .back-button {
            background: linear-gradient(135deg, var(--gray-600), var(--gray-700));
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: var(--border-radius-small);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-fast);
            margin-bottom: 30px;
            font-size: 1em;
        }

        .back-button:hover {
            background: linear-gradient(135deg, var(--gray-700), var(--gray-600));
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .reading-level-section {
            background: var(--white-95);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-medium);
            border: 3px solid rgba(107, 114, 128, 0.15);
            position: relative;
            overflow: hidden;
            transition: var(--transition-smooth);
        }

        .reading-level-section:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-heavy);
        }

        .reading-level-section::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 5px;
        }

        .level-a2-low::before {
            background: linear-gradient(90deg, #6b7280, #4b5563);
        }

        .level-a2-mid::before {
            background: linear-gradient(90deg, #374151, #1f2937);
        }

        .level-b1::before {
            background: linear-gradient(90deg, #111827, #030712);
        }

        .reading-level-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            gap: 20px;
        }

        .reading-level-badge {
            padding: 15px 30px;
            border-radius: var(--border-radius-small);
            font-weight: 800;
            font-size: 1.2em;
            color: white;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .level-a2-low .reading-level-badge {
            background: linear-gradient(135deg, #6b7280, #4b5563);
        }

        .level-a2-mid .reading-level-badge {
            background: linear-gradient(135deg, #374151, #1f2937);
        }

        .level-b1 .reading-level-badge {
            background: linear-gradient(135deg, #111827, #030712);
        }

        .reading-level-title {
            font-size: 2em;
            font-weight: 800;
            color: var(--gray-700);
        }

        .reading-level-description {
            color: var(--gray-600);
            font-size: 1.2em;
            margin-top: 10px;
            font-weight: 500;
        }

        .stories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 30px;
        }

        .story-features li::before {
            content: 'üìñ';
            position: absolute;
            left: 0;
            font-size: 1.2em;
        }

        .story-button {
            background: linear-gradient(135deg, var(--gray-600), var(--gray-700));
            color: white;
            padding: 16px 32px;
            border: none;
            border-radius: var(--border-radius-small);
            font-weight: 700;
            cursor: pointer;
            font-size: 1.1em;
            transition: var(--transition-smooth);
            text-align: center;
            margin-top: auto;
            position: relative;
            z-index: 2;
        }

        .story-button:hover {
            background: linear-gradient(135deg, var(--gray-700), var(--gray-800));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(107, 114, 128, 0.4);
        }

        .story-title {
            color: var(--gray-700);
        }

        .story-card:hover {
            border-color: var(--gray-600);
        }

        @media (max-width: 768px) {
            .hub-title {
                font-size: 2em;
            }

            .hub-subtitle {
                font-size: 1.2em;
            }

            .reading-level-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .reading-level-title {
                font-size: 1.6em;
            }

            .reading-level-description {
                font-size: 1.1em;
            }

            .stories-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- User Info -->
    <div class="user-info">
        <div class="user-avatar" id="userAvatar">A</div>
        <div class="user-name" id="userName">Aluno</div>
        <button class="logout-btn" onclick="logout()">Sair</button>
    </div>

    <div class="container">
        <button class="back-button" onclick="goBack()">‚Üê Voltar ao Portal</button>
        
        <div class="header">
            <a href="index.html" style="text-decoration: none; color: inherit;">
                <div class="logo">
                    Teacher Alex <span class="logo-highlight">English Academy</span> BETA
                </div>
            </a>
            <div class="hub-title">üì∫ Pure Reading Hub</div>
            <div class="hub-subtitle">Foco 100% na interpreta√ß√£o textual sem apoio de √°udio</div>
        </div>

        <!-- A2 Low Level -->
        <div class="level-section reading-level-section level-a2-low">
            <div class="reading-level-header">
                <div class="reading-level-badge">A2 Low - Elementary</div>
                <div>
                    <div class="reading-level-title">N√≠vel Elementar Inicial</div>
                    <div class="reading-level-description">Interpreta√ß√£o textual pura para desenvolver autonomia de leitura</div>
                </div>
            </div>
            
            <div class="stories-grid">
                <a href="neighbor.html" class="story-card">
                    <div class="story-icon">üì∫</div>
                    <div class="story-title">The Perfect Neighbor</div>
                    <div class="story-description">Thriller psicol√≥gico sobre Helena, uma vizinha que quer roubar a vida de Paula</div>
                    <ul class="story-features">
                        <li>5 cap√≠tulos envolventes</li>
                        <li>Leitura pura sem √°udio</li>
                        <li>Vocabul√°rio A2 estruturado</li>
                        <li>Foco na interpreta√ß√£o</li>
                        <li>Hist√≥ria de suspense</li>
                    </ul>
                    <button class="story-button">Come√ßar Leitura Pura</button>
                    <div class="progress-badge" id="neighborProgress">‚úÖ Dispon√≠vel</div>
                </a>

                <div class="story-card coming-soon">
                    <div class="story-icon">üè•</div>
                    <div class="story-title">The Hospital Mystery</div>
                    <div class="story-description">Enfermeira descobre segredos obscuros no hospital onde trabalha</div>
                    <ul class="story-features">
                        <li>4 cap√≠tulos de mist√©rio</li>
                        <li>Vocabul√°rio m√©dico b√°sico</li>
                        <li>Tens√£o psicol√≥gica</li>
                        <li>Interpreta√ß√£o avan√ßada</li>
                        <li>Final surpreendente</li>
                    </ul>
                    <button class="story-button coming-soon-button">üöÄ Em Breve</button>
                </div>

                <div class="story-card coming-soon">
                    <div class="story-icon">üè´</div>
                    <div class="story-title">The New Teacher</div>
                    <div class="story-description">Professor substituto esconde um passado sombrio que amea√ßa a escola</div>
                    <ul class="story-features">
                        <li>5 cap√≠tulos dram√°ticos</li>
                        <li>Vocabul√°rio escolar avan√ßado</li>
                        <li>Desenvolvimento de personagens</li>
                        <li>Leitura independente</li>
                        <li>Reflex√µes pedag√≥gicas</li>
                    </ul>
                    <button class="story-button coming-soon-button">üöÄ Em Breve</button>
                </div>
            </div>
        </div>

        <!-- A2 Mid Level -->
        <div class="level-section reading-level-section level-a2-mid">
            <div class="reading-level-header">
                <div class="reading-level-badge">A2 Mid - Elementary Plus</div>
                <div>
                    <div class="reading-level-title">N√≠vel Elementar Avan√ßado</div>
                    <div class="reading-level-description">Textos mais complexos para consolidar autonomia de leitura</div>
                </div>
            </div>
            
            <div class="stories-grid">
                <div class="story-card coming-soon">
                    <div class="story-icon">üåÉ</div>
                    <div class="story-title">City of Secrets</div>
                    <div class="story-description">Jornalista investiga corrup√ß√£o e descobre conspira√ß√£o que envolve toda a cidade</div>
                    <ul class="story-features">
                        <li>6 cap√≠tulos investigativos</li>
                        <li>Vocabul√°rio jornal√≠stico</li>
                        <li>Interpreta√ß√£o complexa</li>
                        <li>Leitura cr√≠tica</li>
                        <li>Temas sociais</li>
                    </ul>
                    <button class="story-button coming-soon-button">üöÄ Em Breve</button>
                </div>

                <div class="story-card coming-soon">
                    <div class="story-icon">üè∞</div>
                    <div class="story-title">The Last Library</div>
                    <div class="story-description">Em futuro dist√≥pico, bibliotec√°ria protege √∫ltimos livros da humanidade</div>
                    <ul class="story-features">
                        <li>5 cap√≠tulos futur√≠sticos</li>
                        <li>Vocabul√°rio tecnol√≥gico</li>
                        <li>Fic√ß√£o cient√≠fica</li>
                        <li>Reflex√£o social</li>
                        <li>Leitura imaginativa</li>
                    </ul>
                    <button class="story-button coming-soon-button">üöÄ Em Breve</button>
                </div>

                <div class="story-card coming-soon">
                    <div class="story-icon">‚õµ</div>
                    <div class="story-title">Island of Lost Dreams</div>
                    <div class="story-description">N√°ufrago descobre ilha misteriosa onde sonhos se tornam realidade</div>
                    <ul class="story-features">
                        <li>4 cap√≠tulos fant√°sticos</li>
                        <li>Vocabul√°rio de aventura</li>
                        <li>Interpreta√ß√£o simb√≥lica</li>
                        <li>Narrativa psicol√≥gica</li>
                        <li>Final reflexivo</li>
                    </ul>
                    <button class="story-button coming-soon-button">üöÄ Em Breve</button>
                </div>
            </div>
        </div>

        <!-- B1 Level -->
        <div class="level-section reading-level-section level-b1">
            <div class="reading-level-header">
                <div class="reading-level-badge">B1 - Intermediate</div>
                <div>
                    <div class="reading-level-title">N√≠vel Intermedi√°rio</div>
                    <div class="reading-level-description">Para seus poucos alunos avan√ßados - leitura aut√¥noma complexa</div>
                </div>
            </div>
            
            <div class="stories-grid">
                <div class="story-card coming-soon">
                    <div class="story-icon">üïµÔ∏è</div>
                    <div class="story-title">The Digital Detective</div>
                    <div class="story-description">Investigador especializado em crimes cibern√©ticos enfrenta seu maior desafio</div>
                    <ul class="story-features">
                        <li>7 cap√≠tulos complexos</li>
                        <li>Vocabul√°rio t√©cnico avan√ßado</li>
                        <li>Interpreta√ß√£o cr√≠tica</li>
                        <li>Leitura anal√≠tica</li>
                        <li>Temas contempor√¢neos</li>
                    </ul>
                    <button class="story-button coming-soon-button">üöÄ Em Breve</button>
                </div>

                <div class="story-card coming-soon">
                    <div class="story-icon">üåç</div>
                    <div class="story-title">The Climate Warrior</div>
                    <div class="story-description">Ativista ambiental luta contra corpora√ß√µes que destroem o planeta</div>
                    <ul class="story-features">
                        <li>6 cap√≠tulos inspiradores</li>
                        <li>Vocabul√°rio ambiental</li>
                        <li>Leitura consciente</li>
                        <li>Interpreta√ß√£o profunda</li>
                        <li>Mensagem social</li>
                    </ul>
                    <button class="story-button coming-soon-button">üöÄ Em Breve</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===== SISTEMA DE PROTE√á√ÉO DE LOGIN SEM FIREBASE =====
        function checkLogin() {
            if (sessionStorage.getItem('studentLoggedIn') !== 'true') {
                window.location.href = 'login.html';
                return false;
            }
            return true;
        }

        function logout() {
            sessionStorage.removeItem('studentLoggedIn');
            sessionStorage.removeItem('studentUsername');
            window.location.href = 'login.html';
        }

        function getStudentName() {
            return sessionStorage.getItem('studentUsername') || 'Student';
        }

        function goBack() {
            window.location.href = 'index.html';
        }

        // Verificar login ao carregar a p√°gina
        if (!checkLogin()) {
            throw new Error('Not logged in');
        }

        // ===== SISTEMA DE PROGRESSO 100% LOCALSTORAGE =====
        class ProgressTracker {
            constructor() {
                this.studentId = sessionStorage.getItem('studentUsername') || 'student';
                this.progressKey = `progress_${this.studentId}`;
                this.loadProgress();
            }

            loadProgress() {
                const saved = localStorage.getItem(this.progressKey);
                if (saved) {
                    this.data = JSON.parse(saved);
                } else {
                    this.data = {
                        listening: { lessonsCompleted: [], bestScores: {}, totalAttempts: 0, badges: [] },
                        reading: { chaptersCompleted: [], bestScores: {}, totalAttempts: 0, badges: [] },
                        roommate: { chaptersCompleted: [], bestScores: {}, totalAttempts: 0, badges: [] },
                        neighbor: { chaptersCompleted: [], bestScores: {}, totalAttempts: 0, badges: [] },
                        globalBadges: [], lastActivity: null, joinDate: new Date().toISOString(), totalStudyTime: 0
                    };
                }
                if (!this.data.neighbor) {
                    this.data.neighbor = { chaptersCompleted: [], bestScores: {}, totalAttempts: 0, badges: [] };
                }
            }

            getProgressBadge(category, totalChapters) {
                const completed = this.data[category] ? this.data[category].chaptersCompleted.length : 0;
                if (completed === 0) return '‚úÖ Dispon√≠vel';
                if (completed === totalChapters) return 'üèÜ Completo';
                return `${completed}/${totalChapters} ‚úì`;
            }
        }

        // ===== INICIALIZA√á√ÉO SEM FIREBASE =====
        document.addEventListener('DOMContentLoaded', function() {
            const studentName = getStudentName();
            const progressTracker = new ProgressTracker();
            
            console.log(`‚úÖ Pure Reading Hub carregado - usu√°rio: ${studentName}`);
            console.log('üìñ CSS externos + localStorage puro - ZERO Firebase');
            
            // Atualizar informa√ß√µes do usu√°rio
            document.getElementById('userName').textContent = studentName;
            document.getElementById('userAvatar').textContent = studentName.charAt(0).toUpperCase();
            
            // Atualizar badge de progresso do Perfect Neighbor REAL
            const neighborProgress = document.getElementById('neighborProgress');
            if (neighborProgress) {
                neighborProgress.textContent = progressTracker.getProgressBadge('neighbor', 5);
                if (progressTracker.data.neighbor && progressTracker.data.neighbor.chaptersCompleted.length > 0) {
                    neighborProgress.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                }
            }
            
            console.log('üìä Badge de progresso Perfect Neighbor atualizada com dados reais');
        });

        // ===== NAVEGA√á√ÉO COM LOADING =====
        document.querySelectorAll('.story-card[href]').forEach(card => {
            card.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Efeito de loading
                const button = this.querySelector('.story-button');
                const originalText = button.textContent;
                button.textContent = 'Carregando...';
                button.style.background = '#6b7280';
                
                // Feedback visual
                this.style.opacity = '0.7';
                
                setTimeout(() => {
                    window.location.href = this.getAttribute('href');
                }, 800);
            });
        });

        console.log('‚úÖ Pure Reading Hub - Vers√£o CSS Externa + Tema Cinza');
        console.log('üìâ Redu√ß√£o: ~45% menor (22KB ‚Üí 12KB)');
        console.log('üéØ Arquitetura limpa preparada para Firebase futuro');
    </script>
</body>
</html>
